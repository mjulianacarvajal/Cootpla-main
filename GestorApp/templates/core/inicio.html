{% extends "core/base.html" %}
{% block headerContenido %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
{% endblock headerContenido %}
{% block Contenido %}

<!--Section: Content-->
<section class=" ">
    {% if user.id %}
    <div class="row">
        <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
            <div class="card rounded-0 shadow border-primary text-start summary-card my-3">
                <div class="card-body">
                    <div class="d-flex w-100">
                        <div class="col-8 pe-2">
                            <div class="summary-title fs-5 border-bottom">Encomiendas a hoy:</div>
                            <div class="summary-count text-end fw-bolder mt-3 px-4">{{ encomiendas }}</div>
                        </div>
                        <div class="col-4">
                            <div class="summary-icon p-3 rounded border text-center bg-gradient bg-light">
                                <i class="fa fa-list fa-2x"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
            <div class="card rounded-0 shadow border-warning text-start summary-card my-3">
                <div class="card-body">
                    <div class="d-flex w-100">
                        <div class="col-8 pe-2">
                            <div class="summary-title fs-5 border-bottom">Total Vehículos</div>
                            <div class="summary-count text-end fw-bolder mt-3 px-4">{{ vehiculos }}</div>
                        </div>
                        <div class="col-4">
                            <div class="summary-icon p-3 rounded border text-center bg-gradient bg-light">
                                <i class="fa fa-bus fs-2"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
            <div class="card rounded-0 shadow border-success text-start summary-card my-3">
                <div class="card-body">
                    <div class="d-flex w-100">
                        <div class="col-8 pe-2">
                            <div class="summary-title fs-5 border-bottom">Viajes Programados</div>
                            <div class="summary-count text-end fw-bolder mt-3 px-4">{{ programaciones }}</div>
                        </div>
                        <div class="col-4">
                            <div class="summary-icon p-3 rounded border text-center bg-gradient bg-light">
                                <i class="fa fa-map-o fa-2x"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
        <div class="card rounded-0 shadow border-danger text-start summary-card my-3">
            <div class="card-body">
                <div class="d-flex w-100">
                    <div class="col-8 pe-2">
                        <div class="summary-title fs-5 border-bottom">Usuarios</div>
                        <div class="summary-count text-end fw-bolder mt-3 px-4">{{ username }}</div>
                    </div>
                    <div class="col-4">
                        <div class="summary-icon p-3 rounded border text-center bg-gradient bg-light">
                            <i class="fa fa-user fa-2x"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
    <!--    Gráfico -->
    <div class="card">
        <div class="card-title">
            <h5 class="card-title text-center">Cantidad de asientos por bus disponible</h5>
         </div>
        </div>
        <div class="card-body">
            <div class="d-flex justify-content-center">

                <div class="col-md-2 align-content-center">
                    <canvas id="myChart" width="22" height="22"></canvas>
                    <script>
                        var ctx = document.getElementById('myChart').getContext('2d');
                        var myChart = new Chart(ctx, {
                                type: 'pie',
                                data: {
                                    datasets: [{
                                        data: {{ data|safe}},
                            backgroundColor: [
                            'rgb(224,18,62)',
                            'rgb(60,96,57)',
                            'rgba(255, 206, 86, 1)',
                            'rgb(75,102,192)',
                            'rgb(105,114,114)',
                        ],
                            borderWidth:2
                        }],
                        labels: {{ labels|safe }}
                        },
                        });
                    </script>
                </div>
               <div class=""> <br> <span class="badge bg-dark">Vehículos identificadospor Número Interno</span> </div>

            </div>
        </div>
    </div>

    <!--   / Gráfico -->
    {% endif %}
</div>
</section>

</div>
{% endblock Contenido %}